<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http//mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="MartSearch">
	<!-- 지역별 마트 -->
	<select id="getChoiceAreaList" parameterType="string" resultType="MartVO">
		SELECT MART_NUM, MART_OWNER_NUM, MART_BUSINESS_NUM, MART_NAME, MART_TEL, MART_ADDRESS, MART_DELIVERY, MART_COVIDFUND, MART_LEVEL, MART_JOIN_DATE, MART_COMMISSION_COST, MART_FILE FROM TBL_MART
		WHERE MART_ADDRESS LIKE #{area} || '%'
	</select>
	
	<!-- 재난 지원금 -->
	<select id="getCovidList" parameterType="string" resultType="MartVO" >
		SELECT MART_NUM, MART_OWNER_NUM, MART_BUSINESS_NUM, MART_NAME, MART_TEL, MART_ADDRESS, MART_DELIVERY, MART_COVIDFUND, MART_LEVEL, MART_JOIN_DATE, MART_COMMISSION_COST, MART_FILE FROM TBL_MART
		WHERE MART_COVIDFUND = 1 AND MART_ADDRESS LIKE #{area} || '%'
	</select>
	
	<!-- 최근등록순 -->
	<select  id="getUpdateList" parameterType="string" resultType="MartVO" >
		SELECT MART_NUM, MART_OWNER_NUM, MART_BUSINESS_NUM, MART_NAME, MART_TEL, MART_ADDRESS, MART_DELIVERY, MART_COVIDFUND, MART_LEVEL, MART_JOIN_DATE, MART_COMMISSION_COST, MART_FILE FROM TBL_MART
		WHERE MART_ADDRESS LIKE #{area} || '%' ORDER BY MART_JOIN_DATE DESC
	</select>
	
	<!-- 배달가능 -->
	<select  id="getDeliveryList" parameterType="string" resultType="MartVO" >
		SELECT MART_NUM, MART_OWNER_NUM, MART_BUSINESS_NUM, MART_NAME, MART_TEL, MART_ADDRESS, MART_DELIVERY, MART_COVIDFUND, MART_LEVEL, MART_JOIN_DATE, MART_COMMISSION_COST, MART_FILE FROM TBL_MART
		WHERE MART_DELIVERY = 1 AND MART_ADDRESS LIKE #{area} || '%'
	</select>
	
	<!-- 마트정보 -->
	<select id="getMartInfo" parameterType="_int" resultType="MartVO" >
		SELECT MART_NUM, MART_OWNER_NUM, MART_BUSINESS_NUM, MART_NAME, MART_TEL, MART_ADDRESS, MART_DELIVERY, MART_COVIDFUND, MART_LEVEL, MART_JOIN_DATE, MART_COMMISSION_COST, MART_FILE FROM TBL_MART
		WHERE MART_NUM = #{mart_num}
	</select>
	
	<!-- 마트의 상품정보 -->
	<select id="getMartItems" parameterType="_int" resultType="ShopItemVO" >
		SELECT SHOPITEM_NUM, MART_NUM, SHOPITEM_NAME, SHOPITEM_COST, SHOPITEM_STOCK, SHOPITEM_FILE_NAME, MART_NAME FROM TBL_SHOPITEM
		WHERE MART_NUM = #{mart_num}
	</select>
	
	<!-- 마트의 게시글 최신 3개 -->
	<select id="getMartBoard" parameterType="string" resultType="OwnerBoardVO" >
		SELECT OWNER_BOARD_NUM, MART_NAME, OWNER_BOARD_TITLE, OWNER_BOARD_CONTENT, OWNER_BOARD_DATE, OWNER_BOARD_VIEWS
		FROM TBL_OWNER_BOARD
		WHERE MART_NAME = #{mart_name}
		ORDER BY OWNER_BOARD_DATE DESC
	</select>
	
<!-- 	<select id="getAllMartList" resultType="MartVO">
		SELECT MART_NUM, MART_OWNER_NUM, MART_BUSINESS_NUM, MART_NAME, MART_TEL, MART_ADDRESS, MART_DELIVERY, MART_COVIDFUND, MART_LEVEL, MART_JOIN_DATE, MART_COMMISSION_COST, MART_FILE FROM TBL_MART
	</select>
	
	<select id="getAllCovidList" resultType="MartVO" >
		SELECT MART_NUM, MART_OWNER_NUM, MART_BUSINESS_NUM, MART_NAME, MART_TEL, MART_ADDRESS, MART_DELIVERY, MART_COVIDFUND, MART_LEVEL, MART_JOIN_DATE, MART_COMMISSION_COST, MART_FILE FROM TBL_MART
		WHERE MART_COVIDFUND = 1
	</select>
	
	<select  id="getAllUpdateList" resultType="MartVO" >
		SELECT MART_NUM, MART_OWNER_NUM, MART_BUSINESS_NUM, MART_NAME, MART_TEL, MART_ADDRESS, MART_DELIVERY, MART_COVIDFUND, MART_LEVEL, MART_JOIN_DATE, MART_COMMISSION_COST, MART_FILE FROM TBL_MART
		ORDER BY MART_JOIN_DATE DESC
	</select>
	
	<select  id="getAllDeliveryList" resultType="MartVO" >
		SELECT MART_NUM, MART_OWNER_NUM, MART_BUSINESS_NUM, MART_NAME, MART_TEL, MART_ADDRESS, MART_DELIVERY, MART_COVIDFUND, MART_LEVEL, MART_JOIN_DATE, MART_COMMISSION_COST, MART_FILE FROM TBL_MART
		WHERE MART_DELIVERY = 1
	</select> -->
</mapper>